extends layout

block content
    .w3-card-4
        header.w3-container.w3-teal
            h1
                span Info Entidade

        .w3-container
            ul.w3-ul.w3-card-4(style="width:50%")
                li
                    b NIPC: #{entidade.NIPC_entidade_comunicante}
                li
                    b Entidade: #{entidade.entidade_comunicante}

        .w3-container
            header.w3-container.w3-blue
                h1
                    span Lista de Contratos
            
            table.w3-table-all
                tr
                    th idcontrato
                    th(style="max-width: 50px;  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;") objectoContrato
                    th dataCelebracaoContrato
                    th precoContratual
                    th NIPC_entidade_comunicante
                    th entidade_comunicante

                    - var totalPrecoContratual = 0

                each enti in entidade
                    tr
                        td
                            a(href="/" + enti._id)= enti._id
                        td(style="word-wrap: break-word;")= enti.objectoContrato
                        td= enti.dataCelebracaoContrato
                        td= enti.precoContratual
                        td= enti.NIPC_entidade_comunicante
                        td= enti.entidade_comunicante

                        - totalPrecoContratual += enti.precoContratual

            p Total do Pre√ßo Contratual: #{totalPrecoContratual}

    .w3-cell.w3-container.w3-margin-bottom
        a.w3-button.w3-teal(href="/pessoas")
            b Back to people List
        
        footer.w3-container.w3-blue
            h5 Generated by Lucas Oliveira